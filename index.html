<!-- index.html -->
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>AI Chat Assistant</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Swipe Indicator -->
        <div class="swipe-indicator" id="swipeIndicator" onclick="toggleSidebar()">
            ‚ò∞
        </div>

        <div class="overlay" id="overlay"></div>
        
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <button class="new-chat-btn" onclick="createNewChat()">
                    <span>‚ûï</span>
                    <span>Chat Baru</span>
                </button>
            </div>
            <div class="chat-list" id="chatList"></div>
        </div>

        <!-- Main Chat -->
        <div class="main-chat" id="mainChat">
            <div class="chat-header">
                <div class="header-left">
                    <button class="menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                    <h1 class="header-title">
                        <span>‚ú®</span>
                        <span>AI Assistant</span>
                    </h1>
                </div>
                <div class="model-selector">
                    <button class="model-btn" onclick="toggleModelDropdown()">
                        <span id="currentModelIcon">üß†</span>
                        <span id="currentModelName">DeepSeek Chat</span>
                        <span>‚ñº</span>
                    </button>
                    <div class="model-dropdown" id="modelDropdown">
                        <div class="model-header">
                            <span class="model-category">üîì OpenRouter Free</span>
                        </div>
                        <div class="model-option active" onclick="selectModel('deepseek', 'üß†', 'DeepSeek Chat v3.1')">
                            <div class="model-name">üß† DeepSeek Chat v3.1</div>
                            <div class="model-desc">Model reasoning cepat dan efisien</div>
                        </div>
                        <div class="model-option" onclick="selectModel('dolphin', 'üê¨', 'Dolphin Mistral 24B')">
                            <div class="model-name">üê¨ Dolphin Mistral 24B</div>
                            <div class="model-desc">Uncensored open-source model</div>
                        </div>
                        <div class="model-option" onclick="selectModel('deepcoder', 'üíª', 'DeepCoder 14B')">
                            <div class="model-name">üíª DeepCoder 14B</div>
                            <div class="model-desc">Specialized coding assistant</div>
                        </div>
                        <div class="model-option" onclick="selectModel('mai-ds', 'üî¨', 'MAI DS R1')">
                            <div class="model-name">üî¨ MAI DS R1</div>
                            <div class="model-desc">Data science & analysis expert</div>
                        </div>
                        <div class="model-option" onclick="selectModel('hermes', '‚ö°', 'Hermes 3 Llama 405B')">
                            <div class="model-name">‚ö° Hermes 3 Llama 405B</div>
                            <div class="model-desc">Powerful 405B parameter model</div>
                        </div>
                        
                        <div class="model-header">
                            <span class="model-category">‚ú® Google Gemini</span>
                        </div>
                        <div class="model-option" onclick="selectModel('gemini-flash', '‚ö°', 'Gemini 2.0 Flash')">
                            <div class="model-name">‚ö° Gemini 2.0 Flash</div>
                            <div class="model-desc">Fast & efficient multimodal AI</div>
                        </div>
                        <div class="model-option" onclick="selectModel('gemini-flash-exp', 'üß™', 'Gemini 2.0 Flash Exp')">
                            <div class="model-name">üß™ Gemini 2.0 Flash Exp</div>
                            <div class="model-desc">Experimental cutting-edge features</div>
                        </div>
                        <div class="model-option" onclick="selectModel('gemini-pro', 'üíé', 'Gemini 2.5 Pro')">
                            <div class="model-name">üíé Gemini 2.5 Pro</div>
                            <div class="model-desc">Advanced reasoning capabilities</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="messages-container" id="messagesContainer"></div>

            <div class="input-area">
                <!-- File inputs (hidden) -->
                <input type="file" id="fileInput" accept="*/*" style="display: none;" onchange="handleFileUpload(event)">
                <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;" onchange="handleFileUpload(event)">
                <input type="file" id="galleryInput" accept="image/*,video/*" style="display: none;" onchange="handleFileUpload(event)">
                
                <div class="input-wrapper">
                    <!-- Plus button untuk attachment menu -->
                    <button class="plus-btn" onclick="toggleAttachmentMenu()" title="Lampiran">
                        ‚ûï
                    </button>
                    
                    <!-- Attachment menu (popup) -->
                    <div class="attachment-menu" id="attachmentMenu">
                        <button class="menu-item" onclick="triggerFileUpload()">
                            <span class="menu-icon">üìé</span>
                            <span class="menu-text">File</span>
                        </button>
                        <button class="menu-item" onclick="triggerCamera()">
                            <span class="menu-icon">üì∑</span>
                            <span class="menu-text">Foto</span>
                        </button>
                        <button class="menu-item" onclick="triggerGallery()">
                            <span class="menu-icon">üñºÔ∏è</span>
                            <span class="menu-text">Galeri</span>
                        </button>
                    </div>
                    
                    <textarea 
                        class="message-input" 
                        id="messageInput" 
                        placeholder="Ketik pesanmu..."
                        rows="1"
                        onkeypress="handleKeyPress(event)"
                        oninput="autoResize(this)"
                    ></textarea>
                    <button class="send-btn" id="sendBtn" onclick="sendMessage()">
                        ‚û§
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
    </html>
